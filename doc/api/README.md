# API
Пояснительные текст о документе

Содержание:
- [Концепция]
- []

## Каталог API:
- [Календарь](#56)

## Концепция

Пример описания взаимодействия
```javascript
// объект "Заголовок тренировки"
activityHeader = {
	activityId: 1,
	activityCode: "",
	revision: 1,
	updated: "timestamp последнего изменения",
	
	startTimestamp: "timestamp даты начала тренировки",
  	
	activityCategory: { // категория тренировки
		id: 0,
		code: ""		
	},
  	activityType: { //вид спорта
		id: 0,
		code: "",
		typeBasic: "базовый вид спорта"
	},
  
	social: {
		isPublic: true, // Публичная ли это  тренировка (доступна всем по ее activityId)
		userLikesCount: 0, // счетчик кол-ва лайков от пользователей
		trainerCommentsCount: 0, // счетчик кол-ва сообщений в переписке с тренером
		userCommentsCount: 0, // счетчик кол-ва сообщений в переписке с пользователями
	},
  	
	intervals: [
		{
			type: "W", // [W] - итоговый сводный фактический интервал по тренировке
			// [P] - плановый сегмент
			// [L] - фактическая отсечка круга с устройства
			// [pW] - итоговый плановый сегмент по тренировке
			// отсечки начала и окончания интервала
			startTimeStamp: 0,
			endTimeStamp: 0
		},
    	{
			type: "P",
			code: "разминка",
			isGroup: false, // - флаг того, что данный сегмент является группирующей сущностью для плановых сегментов
			parentGroupCode: "", // идентификатор родительской группы сегментов
			timeLength: 0, // длительность интервала в секундах
			distanceLength: 0, // длительность интервала в метрах дистанции
			keyInterval: true, // признак того, что плановый сегмент является ключевым
			completePercent: 0, // процент выполнения тренировки. Поле существует только в рамках интервалов с type = [P]
			completePercentKeyInteval: 0, // средний процент выполнения ключевых сегментов. Только для записи с типом [pW].
			completePercentAddInterval: 0, // средний процент выполнения НЕключевых сегментов. Только для записи с типом [pW].
			intensityMeasure: "heartRate/speed/power", // показатель, по которому задается интенсивность на данном интервале
			intensityLevelFrom: 0, // начальное абсолютное значение интенсивности
			intensityByFtpFrom: 0, // начальное относительное значение интенсивности
			intensityLevelTo: 0, // конечное абсолютное значение интенсивности
			intensityByFtpTo: 0, // конечное относительное значение интенсивности
			intensityDistribution: "", // [A] = любое значение по показателю интенсивности в заданном интервале. [I] = рост значенией показателя. [D] = снижение
			intensityFtpMax: 0, // максимальная средняя интенсивность среди фактических данных , относящихся к разметке плановых сегментов. Пригодно к использованию только в рамках интервала с type = [P].
			// отсечки начала и окончания интервала после проведения процедуры поиска соответствия фактических данных плановым сегментам
			startTimeStamp: 0,
			endTimeStamp: 0,
	  
	  		// рассчитанные показатели по данному интервалу
			calcMeasures: {
				<measureCode>: {
					code: "heartRate",
					minValue: 0,
					avgValue: 0,
					maxValue: 0,
					// если по показателю посчитано время в зонах, присутствует такой массив
					zones: [
						{
							code: "код зоны",
							spentTime: 0 // кол-во секунд, проведенных в этой зоне
						}
					]
				},
				<measureCode>: {
					code: "speedPeaksByTime",
					// если по показателю считаются пиковые значения, присутствует след-й массив
					peaks: [
						{
							intervalLength: 0, // секунды для ByTime и метры для ByDistance
							// начало и конец пика для выделения этого сегмента на графике
							startTimeStamp: 0,
							endTimeStamp: 0,
							// пиковое значение
							value: 0
						}
					]
				},
				<measureCode>: {
					code: "speedPeaksByDistance",
					peaks: [
						{
							intervalLength: 0, // секунды для ByTime и метры для ByDistance
							// начало и конец пика для выделения этого сегмента на графике
							startTimeStamp: 0,
							endTimeStamp: 0,
							// пиковое значение
							value: 0
						}
					]
				}
			}
		},
		{
			type: "P",
			code: "G2",
			isGroup: true,
			repeatCount: 2, // количество повторов сегментов. Только для групп.
			parentGroupCode: ""
		},
		{
			type: "L",
			// отсечки начала и окончания интервала
			startTimeStamp: 0,
			endTimeStamp: 0,
			etc...
		}
	]
};
// описание объекта с детальными данными по тренировке
activityDetails = {
  activityId: 1,
  revision: 0, // поле полностью соответствует calendarItem.revision
  social: {
    userLikes: [
      {/* userProfile.public */}
    ],
    // Комментарии тренера
    trainerComments: [
      {
        userProfile: {/* userProfile.public */},
        timestamp: "",
        comment: ""
      }
    ],
    // Комментарии пользователей
    userComments: [
      {
        userProfile: {/* userProfile.public */},
        timestamp: "",
        comment: ""
      }
    ]
  },
  // показатели, по которым имеются метрики в разрезе каждой временной отсечки на часах
  measures: {
    // название показателя находится в имени ключа объекта
    <measureCode> : {
      code: "код показателя. Дубликат относительно measureCode",
      idx: 0, // порядковый номер показателя в массиве metrics
      unit: "единицы измерения"
    }
  },
  // значения показателей. Порядок значений соответствует порядку idx ключей объекта $.measures.<measureCode>.idx
  metrics: [
    [0,0,0...]
  ]
}
```