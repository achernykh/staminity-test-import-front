<!-- common section -->
<!--<application-frame class='{{$ctrl.view.style}}'>-->
<section layout="row" layout-align="space-between start" class="app-layer">
    <!-- common left margin -->
    <section layout="row" layout-align="end start" flex-gt-xs="grow" hide-xs class="margin">
        <nav class="settings-navbar animated fadeInLeft" flex="none" layout="column" hide show-gt-xs>
            <md-content flex="auto" du-scroll-container="settings-scroll-container" style="overflow-y: auto;">
                <md-list-item ng-repeat="nav in $ctrl._NAVBAR" ng-href="{{::nav.link}}"
                              duration="500" du-smooth-scroll du-scrollspy ng-disabled="!nav.active">
                    <md-icon class="material-icons" ng-class="{disable: !nav.active}">{{::nav.icon}}</md-icon>
                    <div flex hide show-gt-md class="md-body-1" translate>{{::nav.name}}</div>
                </md-list-item>
            </md-content>
        </nav>
    </section>
    <section flex="none" layout="row" layout-align="center start" class="content">
        <!--<div flex="100" layout="column" layout-align="center center" layout-fill>-->
        <!-- application section: start -->
        <!--<div layout="column" layout-align="start center" flex="100" style="height: 100%; width: 100%">-->

        <!--<div layout="column" flex="100" style="width: 100%;">-->
        <!--<div flex="auto" layout="row" class="app-body" layout-align="center start">-->

        <!-- ЛЕНТА НАСТРОЕК -->
        <section class="settings-container" flex="auto" layout="column">
            <header flex="none" layout="column" md-theme="dark">
                <md-card class="user-background" flex="none" layout-align="start center" style="background-image: url({{$ctrl.user.public.background | userBackground}})">
                    <md-card-content layout="row" layout-align="space-between start" style="width: 100%">
                        <userpic class="size-60 border-light" ng-mouseover="show=true" ng-mouseleave="show=false"
                                 profile="$ctrl.user" is-premium="$ctrl.user.isPremium" unlink="true">
                            <button ng-click="$ctrl.uploadAvatar()" ng-show='show' type="button" name="button" class="edit-user-avatar">Edit</button>
                        </userpic>
                        <div flex=none hide show-gt-xs>
                            <md-button ng-click="$ctrl.uploadBackground()" class="flat">Изменить</md-button>
                        </div>
                        <md-fab-speed-dial ng-cloak class="animated bounceIn" md-theme="default">
                            <md-fab-trigger>
                                <md-button aria-label="menu" class="md-fab md-accent"
                                           ng-disabled="!$ctrl.isDirty()"
                                           ng-class="{'md-warn': !$ctrl.isValid()}"
                                           ng-click="$ctrl.update({
                                                                       public:          $ctrl.publicForm.$dirty,
                                                                       personal:        $ctrl.personalFirstForm.$dirty || $ctrl.personalSecondForm.$dirty,
                                                                       private:         $ctrl.privateFirstForm.$dirty || $ctrl.privateSecondForm.$dirty,
                                                                       privacy:         $ctrl.privacyForm.$dirty,
                                                                       display:         $ctrl.displayForm.$dirty,
                                                                       notifications:   $ctrl.notificationDirty})">
                                    <md-icon class="material-icons">save</md-icon>
                                </md-button>
                            </md-fab-trigger>
                        </md-fab-speed-dial>
                    </md-card-content>

                </md-card>
            </header>
            <section class="settings-feed" flex="grow" layout="column" id="settings-scroll-container">

                <article flex="none" ng-include="'settings.personal.html'" ng-if="!$ctrl.athlete"></article>
                <ng-include src="'settings.privacy.html'" ng-if="!$ctrl.athlete"></ng-include>
                <ng-include src="'settings.display.html'" ng-if="!$ctrl.athlete"></ng-include>
                <ng-include src="'settings.account.html'" ng-if="!$ctrl.athlete"></ng-include>
                <ng-include src="'settings.sync.html'" ng-if="!$ctrl.athlete"></ng-include>
                <settings-zones zones="$ctrl.user.trainingZones"></settings-zones><!--
                <settings-notification notifications="$ctrl.user.notifications" on-change="$ctrl.notificationDirty = true" ng-if="!$ctrl.athlete"></settings-notification>-->

                <!--
                <article flex="none" ng-include="'settings/articles/settings.notifications.html'"></article>
                <!--<ng-include src="'settings/articles/settings.templates.html'"></ng-include> -->
            </section>
        </section>
        <!--</div>-->
        <!--</div>-->
        <!--</div>-->
        <!-- application section: end -->
        <!--</div>-->
    </section>
    <!-- common right margin -->
    <section flex-gt-xs="grow" hide-xs class="margin">

    </section>
</section>
<!--</application-frame>-->
<!-- end of common section -->