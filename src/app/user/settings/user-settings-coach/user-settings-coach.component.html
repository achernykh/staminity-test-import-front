<md-list class="md-dense section">
    <form name="$ctrl.form">
        <md-list-item layout="row" layout-wrap>
            <md-input-container flex="45" flex-xs="100" class="no-message">
                <label translate="user.settings.personalInfo.main.firstName"></label>
                <input type="text" name="firstName" ng-model="$ctrl.datamodel.firstName" required autocomplete="off" autofocus ng-disabled="false" minlength="2" maxlength="100">
                <div ng-messages="$ctrl.form.firstName.$error" role="alert">
                    <div ng-message-exp="['required']" translate="form.required"></div>
                    <div ng-message-exp="['minlength', 'maxlength']" translate="form.rangeStr" translate-values="{min:2, max:100}"></div>
                </div>
            </md-input-container>
            <div flex="10" show hide-xs></div>
            <md-input-container flex="45" flex-xs="100" class="no-message">
                <label translate="user.settings.personalInfo.main.lastName"></label>
                <input type="text" name="lastName" ng-model="$ctrl.datamodel.lastName" autocomplete="off" ng-disabled="false" required minlength="2" maxlength="100">
                <div ng-messages="$ctrl.form.lastName.$error" role="alert">
                    <div ng-message-exp="['required']" translate="form.required"></div>
                    <div ng-message-exp="['minlength', 'maxlength']" translate="form.rangeStr" translate-values="{min:2, max:100}"></div>
                </div>
            </md-input-container>
        </md-list-item>
        <md-list-item layout="row" layout-wrap layout-align="start center">
            <md-input-container flex="45" flex-xs="100" class="no-message">
                <label translate="user.settings.personalInfo.main.uri"></label>
                <input type="text" name="uri" ng-model="$ctrl.datamodel.uri" required autocomplete="off" ng-disabled="false" minlength="2" maxlength="100">
                <div ng-messages="$ctrl.form.uri.$error" role="alert">
                    <div ng-message-exp="['required']" translate="form.required">
                    </div>
                    <div ng-message-exp="['minlength', 'maxlength']" translate="form.rangeStr" translate-values="{min:2, max:100}">
                    </div>
                </div>
            </md-input-container>
            <div flex="10"></div>
        </md-list-item>
        <md-list-item layout="row" layout-wrap>
            <md-autocomplete 
                flex="45" flex-xs="100" class="no-message" flex
                md-input-name="country"
                md-input-minlength="2"
                md-input-maxlength="18"
                md-no-cache="$ctrl.noCache"
                md-selected-item="$ctrl.datamodel.country"
                md-search-text="$ctrl.countrySearchText"
                md-items="id in $ctrl.countrySearch($ctrl.countrySearchText)"
                md-item-text="$ctrl.countriesList['ru'][id]"
                md-floating-label="{{ 'user.settings.personalInfo.main.country' | translate }}"
            >
                <md-item-template>
                    <span md-highlight-text="$ctrl.countrySearchText">{{$ctrl._country_list['ru'][id]}}</span>
                </md-item-template>
                <div ng-messages="$ctrl.form.country.$error" role="alert"
                     ng-if="$ctrl.form.country.$touched">
                </div>
            </md-autocomplete>
            <div flex="10"></div>
            <md-input-container flex="45" flex-xs="100" class="no-message">
                <label translate="user.settings.personalInfo.main.city"></label>
                <input type="text" name="city" ng-model="$ctrl.datamodel.city" autocomplete="off" ng-disabled="false" minlength="1" maxlength="100">
                <div ng-messages="$ctrl.form.city.$error" role="alert">
                    <div ng-message-exp="['minlength', 'maxlength']" translate="form.rangeStr" translate-values="{min:1, max:100}">
                    </div>
                </div>
            </md-input-container>
        </md-list-item>
        <div flex layout="row" layout-align="end center">
            <md-button class="md-accent" ng-disabled="!$ctrl.form.$dirty" ng-class="{'md-warn': !$ctrl.form.$valid}" ng-click="$ctrl.submit()">
                {{ 'form.save' | translate }}
            </md-button>
        </div>
    </form>
</md-list>