<md-toolbar class="md-primary">
    <div class="md-toolbar-tools">
        <h2 translate="chat.list.title"></h2>
        <span flex></span>
        <md-button class="md-icon-button" ng-click="$ctrl.onClose()">
            <md-tooltip md-direction="left">{{::'activity.settings.close' | translate}}</md-tooltip>
            <md-icon class="material-icons md-active" aria-label="Close dialog">close</md-icon>
        </md-button>
    </div>
</md-toolbar>
<md-dialog-content flex="auto" layout="column">
    <md-list>
        <md-list-item class="md-3-line" ng-click="$ctrl.onSelectRoom({room: room})"
                      ng-repeat="room in $ctrl.rooms | filter track by $index">
            <div style="background: {{room.icon | avatarUrl:room.type}}; background-size: cover;"
                 class="md-avatar size-36">
            </div>
            <div class="md-list-item-text" layout="column">
                <div layout="row">
                    <h3 flex>{{::room.code | translate}}</h3>
                    <p flex="none">{{room.lastMessageDateFromNow()}}</p>
                </div>
                <p class="message">{{::room.lastMessage.text | limitTo: 200}}</p>
            </div>
        </md-list-item>
    </md-list>
</md-dialog-content>