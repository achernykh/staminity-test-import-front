<md-card class="animated fadeInUp medium">

    <md-card-title ng-if="$ctrl.showConfirm">
        <h2 class="md-title" translate="auth.confirm.shortTitle"></h2>
    </md-card-title>
    <md-card-content ng-if="$ctrl.showConfirm" class="confirm-message">
        <p flex class="md-body" translate="auth.confirm.text" translate-values="{email: $ctrl.credentials.email}"></p>
    </md-card-content>

    <!--<md-card-title ng-if="!$ctrl.showConfirm">
        <h2 class="md-title" translate="auth.signup.shortTitle"></h2>
    </md-card-title>-->
    <form flex="none" ng-if="!$ctrl.showConfirm" ng-submit='$ctrl.signup($ctrl.credentials)'
          name="$ctrl.signupForm" novalidate>
        <md-list>
            <md-list-item>
                <p translate="auth.signup.coach"></p>
                <md-checkbox aria-label="Checkbox No Ink" ng-model="$ctrl.credentials.activateCoachTrial"
                             class="md-primary md-secondary"
                             ng-disabled="!$ctrl.enabled"
                             style="text-shadow: 1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4);">
                </md-checkbox>
            </md-list-item>
            <md-list-item>
                <p class="md-caption conf" translate>auth.confirmation</p>
                <md-checkbox aria-label="Checkbox No Ink" ng-model="$ctrl.confirmation"
                             class="md-primary md-secondary"
                             ng-disabled="!$ctrl.enabled"
                             style="text-shadow: 1px 1px 0px rgba(0,0,0,0.4), -1px -1px 0px rgba(0,0,0,0.4);">
                </md-checkbox>
            </md-list-item>
            <md-list-item md-theme="default">
                <md-autocomplete
                    md-no-float flex="100"
                    required md-require-match
                    class="no-message"
                    ng-disabled="!$ctrl.enabled"
                    md-input-name="country"
                    md-input-minlength="2"
                    md-input-maxlength="18"
                    md-no-cache="$ctrl.noCache"
                    md-selected-item="$ctrl.credentials.personal.country"
                    md-search-text="$ctrl.countrySearchText"
                    md-items="id in $ctrl.countrySearch($ctrl.countrySearchText)"
                    md-item-text="$ctrl.getCountryName(id)"
                    placeholder="{{ 'user.settings.personalInfo.main.country' | translate }}">
                    <md-item-template>
                        <span md-highlight-text="$ctrl.countrySearchText">
                            {{$ctrl.countriesList[$ctrl.credentials.display.language][id]}}
                        </span>
                    </md-item-template>
                    <div ng-messages="$ctrl.signupForm.country.$error">
                        <div ng-message="required" translate="auth.required"></div>
                    </div>
                </md-autocomplete>
            </md-list-item>
            <!--
            <md-list-item layout="column" class="social">
                <p class="social-text" translate="auth.socialText"></p>
                <div class="social-buttons">
                    <md-button class="" ng-repeat="provider in ['facebook','google','vkontakte']"
                               ng-click="$ctrl.OAuth(provider)" ng-disabled="!$ctrl.enabled || !$ctrl.confirmation">
                        <md-icon md-svg-src="/assets/icon/{{provider}}_clr.svg" clas="s36"></md-icon>
                        <span>{{provider}}</span>
                    </md-button>
                </div>
                <div class="social-or" layout="row">
                    <hr align="center" size="2" width="50"/>
                    <span>&nbsp;&nbsp</span>
                    <span translate="auth.socialOr"></span>
                    <span>&nbsp;&nbsp</span>
                    <hr align="center" size="2" width="50"/>
                </div>
            </md-list-item>-->
            <!--<md-list-item ng-repeat="provider in ['facebook','google','vkontakte']" ng-click="$ctrl.OAuth(provider)" ng-disabled="!$ctrl.enabled || !$ctrl.confirmation">
                <md-icon md-svg-src="/assets/icon/{{provider}}_clr.svg" clas="s36"></md-icon>
                <p class="md-body"><span translate="Вход через"></span>&nbsp;<span translate="{{::provider}}"></span></p>
            </md-list-item>-->
            <md-list-item>
                <div layout="row" class="social-buttons">
                    <md-button flex="33" ng-repeat="provider in ['facebook','google','vkontakte']"
                               ng-class="{'disabled': !$ctrl.confirmation || $ctrl.credentials.personal.country === null}"
                               ng-click="$ctrl.OAuth('signUp', provider)"
                               ng-disabled="!$ctrl.enabled || !$ctrl.confirmation || $ctrl.credentials.personal.country === null"
                               class="social-button {{::provider}}">
                        <md-icon md-svg-src="/assets/icon/{{provider}}_clr.svg" clas="s36"></md-icon>
                        <!--<span translate="auth.signup.social"></span>&nbsp;<span translate="{{::provider}}"></span>-->
                    </md-button>
                </div>
            </md-list-item>
        </md-list>
        <div class="md-caption md-light md-inactive center" translate="auth.socialOr"></div>
        <md-list>
            <md-list-item layout="row">
                <md-input-container flex="50" class="st-material md-block md-dense">
                    <label>{{'auth.firstName' | translate }}</label>
                    <input maxlength="30" ng-model="$ctrl.credentials.public.firstName" name="name"
                           required ng-disabled="!$ctrl.enabled || !$ctrl.confirmation"
                           autocomplete="off">
                    <div ng-messages="$ctrl.signupForm.name.$error">
                        <div ng-message="required" translate>auth.required</div>
                        <div ng-message="md-maxlength"
                             translate translate-value-field="{{'auth.firstName' | translate}}">auth.err30
                        </div>
                    </div>
                </md-input-container>
                <div flex="none" style="width: 16px;"></div>
                <md-input-container flex="50" class="st-material md-block md-dense">
                    <label>{{ 'auth.lastName' | translate }}</label>
                    <input maxlength="30" ng-model="$ctrl.credentials.public.lastName" name="surname"
                           required ng-disabled="!$ctrl.enabled || !$ctrl.confirmation"
                           autocomplete="off">
                    <div ng-messages="$ctrl.signupForm.surname.$error">
                        <div ng-message="required" translate>auth.required</div>
                        <div ng-message="md-maxlength" translate>auth.err30</div>
                    </div>
                </md-input-container>
            </md-list-item>
            <md-list-item>
                <md-input-container class="st-material md-block md-dense">
                    <label>{{ 'auth.email' | translate }}</label>
                    <input required type="email" name="email" ng-model="$ctrl.credentials.email"
                           minlength="5"
                           maxlength="100"
                           ng-pattern="/^.+@.+\..+$/"
                           autocomplete="off" ng-disabled="!$ctrl.enabled || !$ctrl.confirmation">
                    <div ng-messages="!$ctrl.signupForm.email.$valid" role="alert">
                        <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']" translate>
                            auth.errMail
                        </div>
                    </div>
                </md-input-container>
            </md-list-item>
            <md-list-item>
                <md-input-container class="st-material md-block md-dense">
                    <label>{{ 'auth.pass' | translate }}</label>
                    <input required type="password" name="password" ng-model="$ctrl.credentials.password" minlength="8"
                           ng-disabled="!$ctrl.enabled || !$ctrl.confirmation"
                           ng-pattern="$ctrl.passwordStrength">
                    <div ng-messages="$ctrl.signupForm.password.$error" role="alert">
                        <div ng-message-exp="['minlength', 'required' , 'pattern']" translate>auth.errPass</div>
                    </div>
                </md-input-container>
            </md-list-item>
            <md-list-item>
                <md-button type="submit" translate='auth.signup.button' class="md-raised submit"
                           ng-disabled="!$ctrl.signupForm.$valid || !$ctrl.enabled || !$ctrl.confirmation"
                           ng-class="{'md-primary': $ctrl.signupForm.$valid && !ul.auth, 'md-disabled': $ctrl.signupForm.$error}"></md-button>
            </md-list-item>
        </md-list>
    </form>

</md-card>



