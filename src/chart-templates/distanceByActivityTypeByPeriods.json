{
  "order": 13,
  "active": false,
  "revision": 1,
  "auth": [],
  "icon": "insert_chart",
  "code": "distanceByActivityTypeByPeriods",
  "descriptionParams": [
    {
      "ind": 0,
      "idx": 0,
      "area": "series",
      "param": "seriesDateTrunc"
    },
    {
      "ind": 0,
      "idx": 2,
      "area": "measures",
      "param": "measureName"
    }
  ],
  "settings": [
    {
      "type": "radio",
      "text": "volume",
      "model": "duration",
      "options": ["duration", "distance"],
      "change": [{
        "ind": [0],
        "idx": [2],
        "area": "measures",
        "name": "measureName",
        "options": {
          "duration": {
            "measureName": "duration",
            "unit": "h"
          },
          "distance": {
            "measureName": "distance",
            "unit": "km"
          }
        }
      }]
    },
    {
      "type": "radio",
      "text": "seriesDateTrunc",
      "model": "month",
      "options": ["day", "week", "month"],
      "change": [{
        "ind": [0],
        "idx": [0],
        "area": "series",
        "name": "seriesDateTrunc",
        "options": {
          "day": {
            "seriesDateTrunc": "day"
          },
          "week": {
            "seriesDateTrunc": "week"
          },
          "month": {
            "seriesDateTrunc": "month"
          }
        }
      }]
    }
  ],
  "layout": {
    "gridColumn": 1,
    "gridRow": 1
  },
  "charts": [{
    "params": {
      "users": null,
      "activityTypes": null,
      "periods": null
    },
    "options": {
      "legend": {
        "vertical-align": "bottom",
        "horizontal-align": "center",
        "type": "row"
      },
      "tooltip": {
        "combined": true
      },
      "currentPositionLine": {
        "enabled": true,
        "color": "rgba(0,0,0,0.5)"

      },
      "palette": ["#2196F3", "#FFC107", "#009688", "#F44336", "#9C27B0", "#795548", "#E91E63", "#9E9E9E"]
    },
    "series": [{
      "label": "period",
      "unit": "",
      "xAxis": true,
      "tooltipType": "label",
      "tooltipLabel": "period",
      "legend": false,
      "currentPositionLine": false,
      "idx": 0,
      "measureSource": "activity.startDate",
      "measureName": "Weeks",
      "dataType": "date",
      "dateFormat": "DD.MM",
      "valueType": "value",
      "seriesDateTrunc": "week",
      "groupByIntervalLength": 1
    },
      {
        "label": "Виды спорта",
        "unit": "",
        "xAxis": true,
        "tooltipType": "none",
        "tooltipLabel": "Вид спорта",
        "legend": true,
        "colorPalette": true,
        "currentPositionLine": false,
        "idx": 1,
        "fillColor": "#449999",
        "measureSource": "activityTypeBasic",
        "measureName": "activityType",
        "dataType": "string",
        "dateFormat": "",
        "valueType": "value",
        "seriesDateTrunc": "",
        "groupByIntervalLength": 1
      }
    ],
    "measures": [{
      "label": "duration",
      "unit": "h",
      "chartType": "bar",
      "stacked": true,
      "cumulative": false,
      "smoothSettings": "null",
      "tooltipType": "color",
      "minValue": 0,
      "legend": false,
      "visible": true,
      "avgValueLine": false,
      "scaleVisible": true,
      "calculateTotals": "",
      "fillColor": "",
      "colorPalette": true,
      "idx": 2,
      "measureSource": "activity.actual.measure",
      "measureName": "duration",
      "dataType": "number",
      "dateFormat": "",
      "valueType": "value",
      "aggMethod": "sum"
    }]
  }]
}